<!doctype html>
<html lang="zh-CN">
<head>
<meta charset="utf-8">
<title>SubFusion Â· æ··åˆè®¢é˜…è½¬æ¢å™¨</title>
<script src="app.js"></script>
<style>
body { font-family: system-ui, sans-serif; margin: 2em; }
input[type=text] { width: 90%; padding: .4em; margin-bottom: .6em; }
textarea { width: 100%; height: 300px; }
button { padding: .5em 1em; margin-top: .5em; }
</style>
</head>
<body>
<h2>ğŸŒ SubFusion â€” æ··åˆè®¢é˜…è½¬æ¢å™¨</h2>
<p>æ”¯æŒæœ¬åœ°ï¼ˆå®‰å…¨ï¼‰ä¸ Cloudflare Workerï¼ˆå¯å¯¼å…¥ Clashï¼‰åŒæ¨¡å¼ã€‚</p>

<label>è®¢é˜…é“¾æ¥ï¼š</label><br>
<input id="url" type="text" placeholder="https://example.com/subscribe?token=xxxx"><br>

<label>Cloudflare Worker åœ°å€ï¼ˆå¯é€‰ï¼‰ï¼š</label><br>
<input id="worker" type="text" placeholder="https://yoursubfusion.workers.dev/sub"><br>

<p>
  æ¨¡å¼ï¼š
  <label><input type="radio" name="mode" value="local" checked> æœ¬åœ°ç”Ÿæˆï¼ˆæœ€é«˜éšç§ï¼‰</label>
  <label><input type="radio" name="mode" value="cloudflare"> Cloudflare Worker ç”Ÿæˆ</label>
</p>

<button onclick="start()">å¼€å§‹è½¬æ¢</button>
<p><small>ğŸ’¡ é»˜è®¤çº¯å‰ç«¯æ‰§è¡Œï¼Œä¸ä¸Šä¼ ä»»ä½• tokenã€‚é€‰æ‹© Cloudflare æ¨¡å¼å°†è¯·æ±‚ä½ çš„ Worker æœåŠ¡ã€‚</small></p>

<textarea id="output" placeholder="ç»“æœå°†åœ¨æ­¤æ˜¾ç¤ºâ€¦"></textarea>

<script>
async function start() {
  const subUrl = document.getElementById("url").value.trim();
  const workerUrl = document.getElementById("worker").value.trim();
  const mode = document.querySelector('input[name="mode"]:checked').value;
  if (!subUrl) return alert("è¯·è¾“å…¥è®¢é˜…é“¾æ¥");
  await convert(mode, subUrl, workerUrl);
}
</script>
</body>
</html>
